'use strict';

document.addEventListener('DOMContentLoaded', function () {
    var cards = document.querySelectorAll('[data-card=""]'),
        tabs = document.querySelectorAll('[data-tab-open]'),
        showMore = document.querySelector('[data-show-props]');

    if (showMore) {
        showMore.addEventListener('click', function (e) {
            e.preventDefault();
            var hiddenItems = document.querySelectorAll('[data-hidden-prop="true"]');
            if (showMore.classList.contains('active')) {
                hiddenItems.forEach(function (element) {
                    element.classList.remove('hidden');
                });
                showMore.classList.remove('active');
                showMore.querySelector('span').innerText = 'Развернуть';
            } else {
                hiddenItems.forEach(function (element) {
                    element.classList.add('hidden');
                });
                showMore.classList.add('active');
                showMore.querySelector('span').innerText = 'Свернуть';
            }
        });
    }

    if (cards) {
        cards.forEach(function (card) {
            card.addEventListener('mousemove', startMove);
            card.addEventListener('mouseout', stopMove);
            function startMove(e) {
                var height = this.offsetHeight,
                    width = this.offsetWidth;
                this.style.transform = 'translateY(' + (e.offsetY - height) / 50 + 'px) translateX(' + (e.offsetX - width) / 50 + 'px)';
            };

            function stopMove() {
                this.style.transform = 'translate(0, 0)';
            };
        });
    }
    if (tabs) {
        tabs.forEach(function (tab) {
            tab.addEventListener('click', function (e) {
                e.preventDefault();
                var id = this.dataset.tabOpen,
                    parentBlock = this.closest('.tabs-wrapper'),
                    tabsBlocks = parentBlock.querySelectorAll('[data-tab]'),
                    tabsButtons = parentBlock.querySelectorAll('[data-tab-open]');
                tabsBlocks.forEach(function (block) {
                    block.classList.remove('active');
                });
                tabsButtons.forEach(function (button) {
                    button.classList.remove('active');
                });
                this.classList.add('active');
                document.querySelector('[data-tab="' + id + '"]').classList.add('active');
            });
        });
    }
    $('[data-modal]').iziModal();
    $('[data-modal-open]').on('click', function (e) {
        e.preventDefault();
        var id = $(this).attr('data-modal-open');
        console.log(id);
        $('[data-modal=' + id + ']').iziModal('open');
    });
    $('.filter-range').each(function (i, elem) {
        var range = $(elem).find('.js-range-from-to'),
            inputFrom = $(elem).find('[data-from]'),
            inputTo = $(elem).find('[data-to]');
        $(range).ionRangeSlider({
            min: $('.js-range-from-to').data('min'),
            max: $('.js-range-from-to').data('max'),
            from: $('.js-range-from-to').data('from'),
            to: $('.js-range-from-to').data('to'),
            type: 'double',
            onChange: function onChange(data) {
                $(inputTo).val(data.to_pretty);
                $(inputFrom).val(data.from_pretty);
            }
        });
    });
    $('.filter-block__title').on('click', function () {
        $(this).toggleClass('active');
        $(this).closest('.filter-block').find('.filter-block__content').slideToggle();
    });

    $('.slider').each(function (i, slider) {
        var slidesToShow = +slider.dataset.count,
            slides = $(slider).find('.slider__list'),
            prevArrow = $(slider).find('[data-slider-arrow="prev"]'),
            nextArrow = $(slider).find('[data-slider-arrow="next"]');
        slides.slick({
            slidesToShow: slidesToShow,
            prevArrow: prevArrow,
            nextArrow: nextArrow,
            responsive: [{
                breakpoint: 1600,
                settings: {
                    slidesToShow: slidesToShow - 1
                }
            }, {
                breakpoint: 1440,
                settings: {
                    slidesToShow: slidesToShow - 2
                }
            }]
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXJkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YWJzIiwic2hvd01vcmUiLCJxdWVyeVNlbGVjdG9yIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaGlkZGVuSXRlbXMiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZvckVhY2giLCJlbGVtZW50IiwicmVtb3ZlIiwiaW5uZXJUZXh0IiwiYWRkIiwiY2FyZCIsInN0YXJ0TW92ZSIsInN0b3BNb3ZlIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsInN0eWxlIiwidHJhbnNmb3JtIiwib2Zmc2V0WSIsIm9mZnNldFgiLCJ0YWIiLCJpZCIsImRhdGFzZXQiLCJ0YWJPcGVuIiwicGFyZW50QmxvY2siLCJjbG9zZXN0IiwidGFic0Jsb2NrcyIsInRhYnNCdXR0b25zIiwiYmxvY2siLCJidXR0b24iLCIkIiwiaXppTW9kYWwiLCJvbiIsImF0dHIiLCJjb25zb2xlIiwibG9nIiwiZWFjaCIsImkiLCJlbGVtIiwicmFuZ2UiLCJmaW5kIiwiaW5wdXRGcm9tIiwiaW5wdXRUbyIsImlvblJhbmdlU2xpZGVyIiwibWluIiwiZGF0YSIsIm1heCIsImZyb20iLCJ0byIsInR5cGUiLCJvbkNoYW5nZSIsInZhbCIsInRvX3ByZXR0eSIsImZyb21fcHJldHR5IiwidG9nZ2xlQ2xhc3MiLCJzbGlkZVRvZ2dsZSIsInNsaWRlciIsInNsaWRlc1RvU2hvdyIsImNvdW50Iiwic2xpZGVzIiwicHJldkFycm93IiwibmV4dEFycm93Iiwic2xpY2siLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxTQUFTQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBNkMsWUFBVTtBQUNuRCxRQUFNQyxRQUFRRixTQUFTRyxnQkFBVCxDQUEwQixnQkFBMUIsQ0FBZDtBQUFB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LEVBQTFCLENBQTZCLE9BQTdCLEVBQXNDLFlBQVU7QUFDNUNGLFVBQUUsSUFBRixFQUFRd0IsV0FBUixDQUFvQixRQUFwQjtBQUNBeEIsVUFBRSxJQUFGLEVBQVFMLE9BQVIsQ0FBZ0IsZUFBaEIsRUFBaUNlLElBQWpDLENBQXNDLHdCQUF0QyxFQUFnRWUsV0FBaEU7QUFDSCxLQUhEOztBQUtBekIsTUFBRSxTQUFGLEVBQWFNLElBQWIsQ0FBa0IsVUFBU0MsQ0FBVCxFQUFZbUIsTUFBWixFQUFtQjtBQUNqQyxZQUFNQyxlQUFlLENBQUNELE9BQU9sQyxPQUFQLENBQWVvQyxLQUFyQztBQUFBLFlBQ1FDLFNBQVM3QixFQUFFMEIsTUFBRixFQUFVaEIsSUFBVixDQUFlLGVBQWYsQ0FEakI7QUFBQSxZQUVRb0IsWUFBWTlCLEVBQUUwQixNQUFGLEVBQVVoQixJQUFWLENBQWUsNEJBQWYsQ0FGcEI7QUFBQSxZQUdRcUIsWUFBWS9CLEVBQUUwQixNQUFGLEVBQVVoQixJQUFWLENBQWUsNEJBQWYsQ0FIcEI7QUFJQW1CLGVBQU9HLEtBQVAsQ0FBYTtBQUNUTCwwQkFBY0EsWUFETDtBQUVURyx1QkFBV0EsU0FGRjtBQUdUQyx1QkFBV0EsU0FIRjtBQUlURSx3QkFBWSxDQUNSO0FBQ0VDLDRCQUFZLElBRGQ7QUFFRUMsMEJBQVU7QUFDUlIsa0NBQWNBLGVBQWU7QUFEckI7QUFGWixhQURRLEVBT1I7QUFDSU8sNEJBQVksSUFEaEI7QUFFSUMsMEJBQVU7QUFDUlIsa0NBQWNBLGVBQWU7QUFEckI7QUFGZCxhQVBRO0FBSkgsU0FBYjtBQW1CSCxLQXhCRDtBQXlCSCxDQWpIRCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJyxmdW5jdGlvbigpe1xyXG4gICAgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jYXJkPVwiXCJdJyksXHJcbiAgICAgICAgICB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGFiLW9wZW5dJyksXHJcbiAgICAgICAgICBzaG93TW9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNob3ctcHJvcHNdJylcclxuXHJcbiAgICBpZihzaG93TW9yZSl7XHJcbiAgICAgICAgc2hvd01vcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBoaWRkZW5JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWhpZGRlbi1wcm9wPVwidHJ1ZVwiXScpXHJcbiAgICAgICAgICAgIGlmKHNob3dNb3JlLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuSXRlbXMuZm9yRWFjaCggZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2hvd01vcmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBzaG93TW9yZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJUZXh0ID0gJ9Cg0LDQt9Cy0LXRgNC90YPRgtGMJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhpZGRlbkl0ZW1zLmZvckVhY2goIGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNob3dNb3JlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgc2hvd01vcmUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVyVGV4dCA9ICfQodCy0LXRgNC90YPRgtGMJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGNhcmRzKXtcclxuICAgICAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN0YXJ0TW92ZSk7XHJcbiAgICAgICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBzdG9wTW92ZSk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0YXJ0TW92ZSAoZSl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLm9mZnNldEhlaWdodCxcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgkeyhlLm9mZnNldFkgLSBoZWlnaHQpIC8gNTB9cHgpIHRyYW5zbGF0ZVgoJHsoZS5vZmZzZXRYIC0gd2lkdGgpIC8gNTB9cHgpYDsgICBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gc3RvcE1vdmUoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYodGFicyl7XHJcbiAgICAgICAgdGFicy5mb3JFYWNoKHRhYiA9PntcclxuICAgICAgICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuZGF0YXNldC50YWJPcGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGFyZW50QmxvY2sgPSB0aGlzLmNsb3Nlc3QoJy50YWJzLXdyYXBwZXInKSwgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGFic0Jsb2NrcyA9IHBhcmVudEJsb2NrLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhYl0nKSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRhYnNCdXR0b25zID0gIHBhcmVudEJsb2NrLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhYi1vcGVuXScpXHJcbiAgICAgICAgICAgICAgICB0YWJzQmxvY2tzLmZvckVhY2goYmxvY2sgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGFic0J1dHRvbnMuZm9yRWFjaChidXR0b24gPT57XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWI9XCIke2lkfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgICQoJ1tkYXRhLW1vZGFsXScpLml6aU1vZGFsKCk7XHJcbiAgICAkKCdbZGF0YS1tb2RhbC1vcGVuXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBpZCA9ICQodGhpcykuYXR0cignZGF0YS1tb2RhbC1vcGVuJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coaWQpXHJcbiAgICAgICAgJChgW2RhdGEtbW9kYWw9JHtpZH1dYCkuaXppTW9kYWwoJ29wZW4nKTtcclxuXHJcbiAgICB9KTtcclxuICAgICQoJy5maWx0ZXItcmFuZ2UnKS5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pe1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gJChlbGVtKS5maW5kKCcuanMtcmFuZ2UtZnJvbS10bycpLFxyXG4gICAgICAgICAgICAgIGlucHV0RnJvbSA9ICQoZWxlbSkuZmluZCgnW2RhdGEtZnJvbV0nKSxcclxuICAgICAgICAgICAgICBpbnB1dFRvID0gJChlbGVtKS5maW5kKCdbZGF0YS10b10nKVxyXG4gICAgICAgICQocmFuZ2UpLmlvblJhbmdlU2xpZGVyKHtcclxuICAgICAgICAgICAgbWluOiAkKCcuanMtcmFuZ2UtZnJvbS10bycpLmRhdGEoJ21pbicpLFxyXG4gICAgICAgICAgICBtYXg6ICQoJy5qcy1yYW5nZS1mcm9tLXRvJykuZGF0YSgnbWF4JyksXHJcbiAgICAgICAgICAgIGZyb206ICQoJy5qcy1yYW5nZS1mcm9tLXRvJykuZGF0YSgnZnJvbScpLFxyXG4gICAgICAgICAgICB0bzogJCgnLmpzLXJhbmdlLWZyb20tdG8nKS5kYXRhKCd0bycpLFxyXG4gICAgICAgICAgICB0eXBlOiAnZG91YmxlJyxcclxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAkKGlucHV0VG8pLnZhbChkYXRhLnRvX3ByZXR0eSk7XHJcbiAgICAgICAgICAgICAgICAkKGlucHV0RnJvbSkudmFsKGRhdGEuZnJvbV9wcmV0dHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgJCgnLmZpbHRlci1ibG9ja19fdGl0bGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLmZpbHRlci1ibG9jaycpLmZpbmQoJy5maWx0ZXItYmxvY2tfX2NvbnRlbnQnKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnNsaWRlcicpLmVhY2goZnVuY3Rpb24oaSwgc2xpZGVyKXtcclxuICAgICAgICBjb25zdCBzbGlkZXNUb1Nob3cgPSArc2xpZGVyLmRhdGFzZXQuY291bnQsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXMgPSAkKHNsaWRlcikuZmluZCgnLnNsaWRlcl9fbGlzdCcpLFxyXG4gICAgICAgICAgICAgICAgcHJldkFycm93ID0gJChzbGlkZXIpLmZpbmQoJ1tkYXRhLXNsaWRlci1hcnJvdz1cInByZXZcIl0nKSxcclxuICAgICAgICAgICAgICAgIG5leHRBcnJvdyA9ICQoc2xpZGVyKS5maW5kKCdbZGF0YS1zbGlkZXItYXJyb3c9XCJuZXh0XCJdJyk7XHJcbiAgICAgICAgc2xpZGVzLnNsaWNrKHtcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiBzbGlkZXNUb1Nob3csXHJcbiAgICAgICAgICAgIHByZXZBcnJvdzogcHJldkFycm93LFxyXG4gICAgICAgICAgICBuZXh0QXJyb3c6IG5leHRBcnJvdyxcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBicmVha3BvaW50OiAxNjAwLFxyXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogc2xpZGVzVG9TaG93IC0gMSxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiAxNDQwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHNsaWRlc1RvU2hvdyAtIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXVxyXG4gICAgICAgIH0pICAgICAgICBcclxuICAgIH0pXHJcbn0pO1xyXG4iXX0=
